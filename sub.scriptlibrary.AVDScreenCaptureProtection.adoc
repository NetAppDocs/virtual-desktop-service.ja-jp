---
sidebar: sidebar 
permalink: scriptlibrary.AVDScreenCaptureProtection.html 
summary: スクリプトドキュメント - AVD 画面キャプチャ保護 
keywords:  
---
= スクリプト化されたイベントドキュメント - AVD スクリーンキャプチャ保護




== グローバルスクリプトの概要

NetApp VDS には、定義済みのスクリプト化イベントのライブラリが含まれています。これらのイベントは VDS 環境で直接使用したり、重複してカスタムのスクリプト化イベントのビルディングブロックとして使用したりできます。

このアプリケーションの場合、この記事では、インストール / 有効化およびアンインストール / 無効化の両方のアクションについて説明します。



== グローバルスクリプトの使用

このような組み込みのスクリプト化されたイベントは事前に入力されており、「グローバル」フィルタチェックボックスをオンにすると表示されます。

このようなグローバルスクリプトイベントは読み取り専用ですそのまま使用することも、「クローン」機能を使用して編集や使用のためにお客様のコピーを作成することもできます。

[ クローン ] ボタンは '[ スクリプトイベント ] ページのアクションメニューにあります

image::scriptlibrary.overview-2ccb2.png[scriptlibrary.overview 2ccb2]



== AVD 画面キャプチャ保護の概要

このスクリプトパッケージは、 PowerShell で（関連する）コマンドを実行することにより、ネイティブの AVD feature_screen capture protection_を 有効または無効にします。

-- 有効にします

「 HKLM\SOFTWARE\Policies\Microsoft\Windows NT\Terminal Services 」 /V fEnableScreenCaptureProtection/t REG_DRE/d 1 を追加します

- 無効にします

「 HKLM\SOFTWARE\Policies\Microsoft\Windows NT\Terminal Services 」 /v fEnableScreenCaptureProtection/f を削除します

この AVD 機能に関する Microsoft のマニュアルは、次の URL から入手できます。https://docs.microsoft.com/en-us/azure/virtual-desktop/security-guide#session-host-security-best-practices[]



=== [ アクティビティの追加 ] ダイアログウィンドウのスクリーンショット

image::scriptlibrary.AVDScreenCaptureProtection-216a6.png[scriptlibrary.AVDScreenCaptureProtection 216a6]



=== 手動アクティビティを追加します

リポジトリ内のスクリプトが何らかのアクションを実行するには ' そのスクリプトを選択したトリガに関連付けるアクティビティを作成する必要がありますこの例のアクティビティは 'VDS 管理者が手動でスクリプトをトリガしたときに実行されます

VDS スクリプト化されたイベントには '_Create Server_ など ' その他の多くのタイプのアクティビティトリガが用意されていますこれは '_Manual_event タイプの代わりに使用できますCreate Server_ を使用すると 'VDS で新しく作成したすべての VM に対してこのスクリプトが実行されます_ サーバの作成 _ およびその他のトリガが文書化されており ' 調査できます link:Management.Scripted_Events.scripted_events.html["こちらをご覧ください"]。

.アクティビティを作成し、このスクリプトをアクションにリンクするには：
. VDS のスクリプトイベントセクションに移動します
. [_Activities_Click （ _ アクティビティ _ を追加 _ ） ] をクリックします
. 開いたダイアログウィンドウで、次の情報を入力します。
+
** * 名前： * このアクティビティに名前を付けます
** * 概要： * オプションで概要を入力します
** * 展開 * ドロップダウンから希望の展開を選択します
** * スクリプト： * ドロップダウンからインストール（またはアンインストール）スクリプトを選択します。これは、クローンを作成してカスタマイズしたグローバルスクリプトまたは顧客スクリプトです。
** * 引数： * は空白のままにします
** * 有効チェックボックス :* チェックボックス
** * イベントの種類：ドロップダウンから「手動」を選択します
** * ターゲット・タイプ：「サーバ」ラジオ・ボタンを選択します
** * 管理対象サーバ : このアンインストールを受け取る VM ごとにチェックボックスをオンにします



