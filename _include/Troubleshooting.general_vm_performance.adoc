= 概要
:allow-uri-read: 


ネットアップでは、ユーザやアプリケーション向けにサーバパフォーマンスのトラブルシューティングを行うための分析情報を提供していますSQL Standard がインストールされている場合とインストールされている場合では、一度にログインしたエンドユーザの数に応じてリソースの消費方法が異なりますSQL Express などのため、ユーザーがパフォーマンスの問題を報告したときに何が起こっているかを確認できることが重要です。



== 概要

アプリケーションはそれぞれ異なります。また、同じ数のユーザが実行している同じソフトウェアであっても、リソース消費パターンは異なる場合があります。そのため、ユーザーが実行しているアプリと、そのアプリを本当にパワーアップするものを理解するのに役立ちます。CPU 、 RAM 、ストレージはどれですか？これらの考慮事項は、トラブルシューティングに焦点を当てるのに役立ちます。

ネットアップの経験では、これらのことが、次のようなことを実現するために、一般的に正しい説明であることが実証され

....
CPU: this is usually the culprit/limiting factor if the app in question is home-grown and/or an Excel issue
RAM: this is usually the culprit/limiting factor if SQL Standard is used
Storage: this is usually a contributing factor if disk consumption is greater than 90%.
....

NOTE: SQL Express を使用する場合は、 RAM の消費量を 1 GB に制限することができます。これは、ソフトウェアベンダーの必要な仕様に基づいている可能性があります。



== 夜間リソースレポートの使用

VDS は、毎晩各 VM に関する情報をレポートに送信します。このレポートには、リソースを増減するかどうかに関する推奨事項など、役立つ情報が多数記載されています。以下にいくつかの抜粋を示します。

この図は、特定のワークスペースで VM の CPU や RAM を増やすか減らすかを示しています。image:vm_performance1.png[""]

次の図では、サーバがリブートされてからの経過時間を示す列があります。image:vm_performance2.png[""]

この図では、ストレージプロビジョニングと消費済み–最初に調査するか、または CPU/RAM が問題ではないことを確認した後に、このトピックを参照することをお勧めします。image:vm_performance3.png[""]



== CPU / RAM リソース消費量をリアルタイムで表示

. VDS にログインし、「組織」モジュールをクリックして、該当する組織を選択します。
+
image:vm_performance4.png[""]

. ユーザがログインしているサーバを検索するには、 Users セクションでそのサーバを検索します。
+
image:vm_performance5.png[""]

. 次に、 [Servers] セクションが表示されるまで下にスクロールします。問題にログインしているユーザを報告しているサーバを探し、設定ホイールをクリックしてから、接続します。
+
image:vm_performance6.png[""]

. サーバーに接続したら、 [ スタート ] ボタンをクリックします。次に、 [ タスクマネージャ ] をクリックします。
+
image:vm_performance7.png[""]

. タスクマネージャーは、その時点で何が起こっているかについての豊富な洞察を提供します。これは、ユーザーが問題を報告したときにユーザーに影響を与えることを確認するための絶対的な最善の方法です。
. サーバー上で実行されているプロセスを確認し、問題の原因となっているプロセスがあるかどうかを特定し、顧客と通信するか、その場でプロセスを終了します。
+
image:vm_performance8.png[""]

. [ パフォーマンス ] タブを表示して、現在の状態を表示することもできます。これは非常に大きなトラブルシューティング手順です。エンドユーザーに、問題 a performance 原因に行った手順を繰り返して、何が起こるかを確認するように依頼します。同様に、一般的なアドバイスに従っている場合（ Google Chrome タブは一般的なリソース消費者であるため、 Chrome ブラウザの余分なタブを閉じる）、リソース消費量の減少を確認できます。
+
image:vm_performance9.png[""]

. [ ユーザー ] タブには、リソースを消費しているユーザー（存在する場合）が表示され、そのユーザーが消費量の急増を引き起こしていることが示されます。
+
image:vm_performance10.png[""]

. 各エンドユーザーを展開して、実行中の特定のプロセスと、各プロセスがどれだけ消費しているかを確認できます。
+
image:vm_performance11.png[""]

. 別のオプションとして、実行中のサービスを表示することもできます。
+
image:vm_performance12.png[""]

. お客様は、リソースモニタを開いて詳細を調査することもできます。
+
image:vm_performance13.png[""]





== ストレージのパフォーマンスを考慮しています

VM のパフォーマンス問題の最も一般的な原因の 1 つとして、ディスクパフォーマンスが不足していることが挙げられます。標準ディスク（ SSD も含む）は、 VDS ワークロードで要求される高い I/O 負荷に対応するようには設計されていません。ユーザー・ログインはバンチで行われる傾向があり ' プロファイルと設定がロードされるたびに ' 各ユーザーは大きな I/O を要求しますAzure NetApp Files 、 CVO 、 CVS などのネットアップのハイパフォーマンスストレージテクノロジは、このワークロードに特に適しているため、 VDS ワークロードのデフォルトのオプションとして検討する必要があります。



== ストレージ消費を検討している

Microsoft では、任意のドライブでのディスク使用量が 90% を超えることを防ぐため、長期にわたってベストプラクティスを用意しています。これにより ' パフォーマンスが大幅に低下し ' バックアップを完了するのに十分なストレージがない ' ユーザーの作業を保存できないなど ' その他のいくつかの課題に原因を適用できるようになります

RMM ツールは、しきい値やアラートを設定する機能など、ストレージ監視サービスを提供します。ストレージが課題となった場合は、 RMM ベンダーと協力してこれらのタイプのアラートを有効にすることをお勧めします。

詳細な調査を行うには、ソフトウェアをインストールしてドライブの使用状況を確認してください。

お客様との会話から、 Windirstat または Treesize は、ドライブ消費量の検査に適したアプリケーションであることが実証されています。

アプリをローカルでインストール / 実行するための十分な容量がない場合、またはログインがブロックされている場合、 Windirstat はネットワーク上のフルドライブを検査できます。

[+]image:vm_performance14.png[""]
